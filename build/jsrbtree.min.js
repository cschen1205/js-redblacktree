var jsrbtree=jsrbtree||{};!function(t){"use strict";var e=function(t,e){this.key=t,this.value=e,this.left=null,this.right=null,this.count=1,this.red=!0};t.Node=e;var i=function(t){this.root=null,this.N=0,t||(t=function(t,e){return t-e}),this.compare=t};i.prototype.put=function(t,e){this.root=this._put(this.root,t,e)},i.prototype._put=function(e,i,r){if(null==e)return new t.Node(i,r);var o=this.compare(i,e.key);return o<0?e.left=this._put(e.left,i,r):o>0?e.right=this._put(e.right,i,r):e.value=r,this._isRed(e.right)&&!this._isRed(e.left)&&(e=this._rotateLeft(e)),this._isRed(e.left)&&this._isRed(e.left.left)&&(e=this._rotateRight(e)),this._isRed(e.left)&&this._isRed(e.right)&&this._flipColor(e),e.count=1+this._count(e.left)+this._count(e.right),e},i.prototype._count=function(t){return null==t?0:t.count},i.prototype.get=function(t){var e=this._get(this.root,t);if(null!=e)return e.value},i.prototype._get=function(t,e){if(null==t)return null;var i=this.compare(e,t.key);return i<0?this._get(t.left,e):i>0?this._get(t.right,e):t},i.prototype.containsKey=function(t){return null!=this._get(this.root,t)},i.prototype.isEmpty=function(){return 0==this._count(this.root)},i.prototype.size=function(){return this._count(this.root)},i.prototype.delete=function(t){this.root=this._delete(this.root,t)},i.prototype._delete=function(t,e){if(null==t)return null;var i=this.compare(e,t.key);if(i<0)t.left=this._delete(t.left,e);else if(i>0)t.right=this._delete(t.right,e);else if(null==t.left)t=t.right;else if(null==t.right)t=t.left;else{var r=t;(t=this._min(r.right)).right=this._delMin(r.right),t.left=r.left}return null!=t&&(this._isRed(t.right)&&!this._isRed(t.left)&&(t=this._rotateLeft(t)),this._isRed(t.left)&&this._isRed(t.left.left)&&(t=this._rotateRight(t)),this._isRed(t.left)&&this._isRed(t.right)&&this._flipColor(t),t.count=1+this._count(t.left)+this._count(t.right)),t},i.prototype._isRed=function(t){return null!=t&&t.red},i.prototype._flipColor=function(t){t.left.red=!1,t.right.red=!1,t.red=!0},i.prototype._rotateLeft=function(t){var e=t,i=t.right;return e.right=i.left,i.left=e,i.red=e.red,e.red=!0,e.count=1+this._count(e.left)+this._count(e.right),i},i.prototype._rotateRight=function(t){var e=t,i=e.left;return e.left=i.right,i.right=e,i.red=e.red,e.red=!0,e.count=1+this._count(e.left)+this._count(e.right),i},i.prototype._min=function(t){return null==t?null:null==t.left?t:this._min(t.left)},i.prototype._max=function(t){return null==t?null:null==t.right?t:this._max(t.right)},i.prototype.minKey=function(t){if(null!=(t=this._min(this.root)))return t.key},i.prototype.maxKey=function(t){if(null!=(t=this._max(this.root)))return t.key},i.prototype._delMin=function(t){return null==t?null:null==t.left?t.right:(t.left=this._delMin(t.left),t.count=1+this._count(t.left)+this._count(t.right),t)},i.prototype.keySet=function(){var t=[];return this._collect(this.root,t),t},i.prototype._collect=function(t,e){null!=t&&(this._collect(t.left,e),e.push(t.key),this._collect(t.right,e))},t.RedBlackTree=i}(jsrbtree);var module=module||{};module&&(module.exports=jsrbtree);